# rutub-top
<!DOCTYPE html>
<html>
<head>
    <title>TurboWarp Rutube Widget</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 20px auto;
            padding: 20px;
            line-height: 1.6;
        }
        code { 
            background: #f4f4f4; 
            padding: 15px; 
            display: block;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        .btn {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
        }
        .btn:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>üéØ TurboWarp Rutube Widget</h1>
    <p>–ü—Ä–æ—Å—Ç–æ–π –≤–∏–¥–∂–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∫–∞–Ω–∞–ª–∞ Rutube –ø—Ä—è–º–æ –≤ TurboWarp</p>
    
    <h2>üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h2>
    <ol>
        <li>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://turbowarp.org/" target="_blank">TurboWarp</a> –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
        <li>–ù–∞–∂–º–∏—Ç–µ <strong>F12</strong> (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)</li>
        <li>–í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:</li>
    </ol>

    <code id="codeBlock">
// –ö–æ–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...
    </code>

    <button class="btn" onclick="copyCode()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>

    <script>
        // –í–µ—Å—å –∫–æ–¥ –≤–∏–¥–∂–µ—Ç–∞
        const widgetCode = // –°–æ–∑–¥–∞–µ–º –∫—Ä—É–≥–ª—ã–π UI-–±–ª–æ–∫
const widget = document.createElement('div');
widget.style.position = 'fixed';
widget.style.bottom = '20px';
widget.style.right = '20px';
widget.style.width = '50px';
widget.style.height = '50px';
widget.style.borderRadius = '50%';
widget.style.background = '#4CAF50';
widget.style.color = 'white';
widget.style.display = 'flex';
widget.style.alignItems = 'center';
widget.style.justifyContent = 'center';
widget.style.cursor = 'pointer';
widget.style.zIndex = '9999';
widget.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
widget.innerHTML = 'üîç';
document.body.appendChild(widget);

// –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ —Å—Å—ã–ª–∫–∏
const form = document.createElement('div');
form.style.position = 'fixed';
form.style.bottom = '80px';
form.style.right = '20px';
form.style.padding = '15px';
form.style.background = 'white';
form.style.borderRadius = '10px';
form.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
form.style.zIndex = '9998';
form.style.display = 'none';
form.innerHTML = \\
  <input 
    type="text" 
    id="rutubeUrl" 
    placeholder="https://rutube.ru/channel/..." 
    style="width: 200px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;"
  >
  <button id="fetchSubs" style="margin-top: 10px; padding: 8px 15px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
  </button>
  <div id="result" style="margin-top: 10px; font-size: 14px;"></div>
\\;
document.body.appendChild(form);

// –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã
widget.addEventListener('click', () => {
  form.style.display = form.style.display === 'none' ? 'block' : 'none';
});

// –ó–∞–ø—Ä–æ—Å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
document.getElementById('fetchSubs').addEventListener('click', async () => {
  const url = document.getElementById('rutubeUrl').value;
  const resultDiv = document.getElementById('result');
  
  if (!url.includes('rutube.ru/channel/')) {
    resultDiv.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª';
    return;
  }

  resultDiv.textContent = '‚åõÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞...';

  try {
    const response = await fetch(\\https://corsproxy.io/?\\${encodeURIComponent(url)}\\);
    const html = await response.text();
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    
    // –ò—â–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
    const subsElement = doc.querySelector('.video-channel-subscribers-count') || 
                       doc.querySelector('.metadata-subscribers');
    const subsText = subsElement ? subsElement.textContent.trim() : '–ù–µ –Ω–∞–π–¥–µ–Ω–æ';
    
    resultDiv.textContent = \\–ü–æ–¥–ø–∏—Å—á–∏–∫–∏: \\${subsText}\\;
  } catch (error) {
    resultDiv.textContent = \\‚ùå –û—à–∏–±–∫–∞: \\${error.message}\\;
  }
});;
